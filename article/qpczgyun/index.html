<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.19" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><title>003概念 | jqh</title><meta name="description" content="jqh"><link rel="preload" href="/assets/style-RmbeAW3K.css" as="style"><link rel="stylesheet" href="/assets/style-RmbeAW3K.css"><link rel="modulepreload" href="/assets/app-CiQOVv9k.js"><link rel="modulepreload" href="/assets/index.html-CJLQOBPw.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-68cd6b44><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5a8d0bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d5a8d0bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-68cd6b44 data-v-d34f28d6><div class="vp-navbar" vp-navbar data-v-d34f28d6 data-v-70d97d16><div class="wrapper" data-v-70d97d16><div class="container" data-v-70d97d16><div class="title" data-v-70d97d16><div class="vp-navbar-title" data-v-70d97d16 data-v-2c8d4622><a class="vp-link no-icon link title" href="/" data-v-2c8d4622 data-v-442a52aa><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="https://theme-plume.vuejs.press/plume.png" alt data-v-7fbfbc9b><!--]--><!--[--><img class="vp-image light logo" src="https://theme-plume.vuejs.press/plume.png" alt data-v-7fbfbc9b><!--]--><!--]--><!--]--><span data-v-2c8d4622>jqh</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-70d97d16><div class="content-body" data-v-70d97d16><!--[--><!--]--><div class="vp-navbar-search search" data-v-70d97d16><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-70d97d16 data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>归档</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-feafea4e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-feafea4e><span class="text" data-v-feafea4e><!----><!----><span data-v-feafea4e>笔记</span><span class="vpi-chevron-down text-icon" data-v-feafea4e></span></span></button><div class="menu" data-v-feafea4e><div class="vp-menu" data-v-feafea4e data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/demo/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 示例<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-70d97d16 data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-d84fedac><span class="check" data-v-d84fedac><span class="icon" data-v-d84fedac><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-70d97d16 data-v-ad52545c data-v-40bac536><!--[--><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-70d97d16 data-v-652282fd data-v-feafea4e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-feafea4e><span class="vpi-more-horizontal icon" data-v-feafea4e></span></button><div class="menu" data-v-feafea4e><div class="vp-menu" data-v-feafea4e data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-d84fedac><span class="check" data-v-d84fedac><span class="icon" data-v-d84fedac><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-70d97d16 data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-70d97d16><div class="divider-line" data-v-70d97d16></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-68cd6b44 data-v-1dc3518c><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-1dc3518c><span class="vpi-align-left menu-icon" data-v-1dc3518c></span><span class="menu-text" data-v-1dc3518c>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-1dc3518c data-v-423a73ec><button data-v-423a73ec>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-68cd6b44 data-v-eb709286><div class="is-blog vp-doc-container" data-v-68f87f49><!--[--><!--]--><div class="container" data-v-68f87f49><!----><div class="content" data-v-68f87f49><div class="content-container" data-v-68f87f49><!--[--><!--]--><main class="main" data-v-68f87f49><nav class="vp-breadcrumb" data-v-68f87f49 data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="首页" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="博客" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=07811d" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->2024<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="2024" data-v-1ae4ad7a><meta property="position" content="3" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=d1a041" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->前端<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="前端" data-v-1ae4ad7a><meta property="position" content="4" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=e77e4c" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->webMedia<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="webMedia" data-v-1ae4ad7a><meta property="position" content="5" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=21949c" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->WebAudioAPI<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="WebAudioAPI" data-v-1ae4ad7a><meta property="position" content="6" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb current" href="/article/qpczgyun/" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->003概念<!--]--><!----></a><!----><meta property="name" content="003概念" data-v-1ae4ad7a><meta property="position" content="7" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-581be9b0>003概念 <!----></h1><div class="vp-doc-meta" data-v-581be9b0><p class="reading-time" data-v-581be9b0><span class="vpi-books icon" data-v-581be9b0></span><span data-v-581be9b0>约 2583 字</span><span data-v-581be9b0>大约 9 分钟</span></p><!----><p class="create-time" data-v-581be9b0><span class="vpi-clock icon" data-v-581be9b0></span><span data-v-581be9b0>2024-03-11</span></p></div><!--]--><div class="_article_qpczgyun_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-68f87f49><div data-v-68f87f49><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Basic_concepts_behind_Web_Audio_API" target="_blank" rel="noopener noreferrer">文档地址</a></li><li>本文解释了Web Audio API的功能如何工作的背后的一些音频理论，以帮助您在设计应用如何路由音频时做出明智的决策。如果你还不是一个声音工程师，它将给给予你足够的背景，以了解为什么网络音频API的工作方式。</li></ul><h1 id="音频图" tabindex="-1"><a class="header-anchor" href="#音频图"><span>音频图</span></a></h1><ul><li>Web Audio API涉及在音频上下文中处理音频操作，并且被设计为允许模块化路由。每个音频节点执行基本的音频操作，并与一个或多个其他音频节点链接以形成音频路由图。支持具有不同通道布局的多个源，即使在单个上下文中也是如此。这种模块化设计提供了创建具有动态效果的复杂音频功能的灵活性。</li><li>音频节点通过它们的输入和输出连接起来，形成一个链，从一个或多个源开始，经过一个或多个节点，然后到达目的地（如果你只想可视化一些音频数据，你不必提供目的地）。一个简单的、典型的Web音频工作流看起来像这样： <ul><li>创建音频上下文</li><li>在上下文内创建音频源（例如audio&gt;，振荡器或流）。</li><li>创建音频效果（如混响、双二阶滤波器、平移器或压缩器节点）。</li><li>选择音频的最终目的地（如用户的计算机扬声器）。</li><li>将源节点连接到零个或多个效应节点，然后连接到选定的目标。</li><li>注意：通道符号是一个数值，例如2.0或5.1，表示信号上可用的音频通道数。第一个数字是信号包括的全频率范围音频通道的数量。句号后的数字表示为低频效果（LFE）输出保留的通道数;这些通道通常称为低音炮。</li></ul></li><li>每个输入或输出由一个或多个音频通道组成，它们共同代表特定的音频布局。支持任何离散通道结构，包括单声道、立体声、四声道、5.1声道等。</li><li>有几种方法可以获得音频 <ul><li>声音可以直接在JavaScript中由音频节点（如振荡器）生成</li><li>它可以从原始的 PCM 数据（如.WAV文件或其他支持的格式）</li><li>可以从HTML媒体元素生成</li><li>它可以从 WebRTC 例如网络摄像头或麦克风</li></ul></li></ul><h1 id="音频数据-样本中包含什么" tabindex="-1"><a class="header-anchor" href="#音频数据-样本中包含什么"><span>音频数据：样本中包含什么</span></a></h1><ul><li>当音频信号被处理时，采样发生。采样是将连续信号转换为离散信号。换句话说，一个连续的声波，比如一个乐队现场演奏，被转换成一个数字样本序列（一个离散时间信号），允许计算机在不同的块中处理音频。</li><li>你可以在<a href="https://en.wikipedia.org/wiki/Sampling_%28signal_processing%29" target="_blank" rel="noopener noreferrer">Wikipedia页面</a>采样（信号处理）上找到更多信息</li></ul><h1 id="音频缓冲区-帧、采样和通道" tabindex="-1"><a class="header-anchor" href="#音频缓冲区-帧、采样和通道"><span>音频缓冲区：帧、采样和通道</span></a></h1><ul><li>AudioBuffer定义了三个参数 <ul><li>通道的数量（单声道为1，立体声为2等）</li><li>其长度，意味着缓冲器内的样本帧的数量</li><li>以及采样率，即每秒播放的采样帧的数量</li></ul></li><li>样本是单个32位浮点值，表示特定通道内每个特定时刻的音频流值（如果是立体声，则为左或右）。帧或采样帧是将在特定时刻播放的所有通道的所有值的集合：同时播放的所有通道的所有采样（两个用于立体声，六个用于5.1等）。</li><li>采样率是指在一秒钟内播放的样本（或帧，因为一帧的所有样本都同时播放）的数量，以Hz为单位。采样率越高，音质越好。</li><li>让我们来看看单声道和立体声音频缓冲器，每一个都是一秒长，速率为44100 Hz <ul><li>单声道缓冲器将具有44100个样本和44100帧。length将是44100</li><li>立体声缓冲区将有88200个样本，但仍有44100帧。length属性仍然是44100，因为它等于帧数</li></ul></li><li>当缓冲区播放时，您将首先听到最左边的采样帧，然后是它旁边的一个，然后是下一个，依此类推，直到缓冲区结束。在立体声的情况下，你会同时听到两个频道。采样帧非常方便，因为它们与通道数量无关，并且以精确音频操作的理想方式表示时间</li><li>注：要从帧计数中获得时间（以秒为单位），请将帧数除以采样率。要从采样数中获得帧数，只需将后者除以通道计数。</li><li>下面是几个简单的例子</li></ul><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> context</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> AudioContext</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> buffer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> AudioBuffer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">context</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  numberOfChannels</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  length</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 22050</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  sampleRate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 44100</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注：在数字音频中，44100Hz（交替表示为44.1 kHz）是常见的采样频率。为什么是44.1 kHz？ <ul><li>首先，因为人耳的听觉范围大致为20 Hz至20，000 Hz。根据因此，采样率必须大于40，000 Hz。</li><li>其次，信号必须在采样前进行低通滤波，否则会出现混叠。虽然理想的低通滤波器可以完美地通过低于20 kHz的频率（而不衰减它们），并完美地切断高于20 kHz的频率，但在实践中，过渡带是必要的，其中频率被部分衰减。该过渡带越宽，制作抗混叠滤波器就越容易、越经济。44.1 kHz采样频率允许2.05 kHz过渡带。</li></ul></li><li>如果你使用上面的这个调用，你将得到一个有两个声道的立体声缓冲区，当在以44,100 Hz运行的AudioContext上播放时（非常常见，大多数正常的声卡都以这个速率运行），将持续0.5秒：22，050帧/44，100 Hz = 0.5秒</li></ul><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> context</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> AudioContext</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> buffer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> AudioBuffer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">context</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  numberOfChannels</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  length</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 22050</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  sampleRate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 22050</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果您使用此调用，您将获得一个单声道缓冲区（单声道缓冲区），当在以44，100 Hz运行的AudioContext上播放时，将【自动重新采样】为44，100 Hz（因此产生44，100帧），并持续1.0秒：44，100帧/44，100 Hz = 1秒。 <ul><li>注意：音频重现与图像重现非常相似。假设您有一个16 x 16的图像，但希望它填充32 x 32的区域。你调整它的大小（或重采样）。结果质量较差（它可能是模糊或尖锐的，取决于缩放算法），但它可以工作，调整大小的图像占用更少的空间。重采样的音频也是一样：您可以节省保存空间，但实际上无法正确再现高频内容或高音。</li></ul></li></ul><h1 id="平面缓冲器与交错缓冲器" tabindex="-1"><a class="header-anchor" href="#平面缓冲器与交错缓冲器"><span>平面缓冲器与交错缓冲器</span></a></h1><ul><li>Web Audio API使用平面缓冲区格式。左声道和右声道的存储方式如下 <ul><li><code>LLLLLLLLLLLLLLLLRRRRRRRRRRRRRRRR (for a buffer of 16 frames)</code></li><li>这种结构在音频处理中很普遍，可以很容易地独立处理每个通道</li></ul></li><li>另一种方法是使用交错缓冲区格式： <ul><li><code>LRLRLRLRLRLRLRLRLRLRLRLRLRLRLRLR (for a buffer of 16 frames)</code></li><li>这种格式是流行的存储和播放音频没有太多的处理，例如：.WAV文件或解码的MP3流</li></ul></li><li>由于Web Audio API是为处理而设计的，因此它只公开平面缓冲区。 <ul><li>它使用平面格式，但在将音频发送到声卡进行播放时将其转换为交错格式。相反，当API解码MP3时，它从交织格式开始，并将其转换为平面格式以进行处理。</li></ul></li></ul><h1 id="音频通道" tabindex="-1"><a class="header-anchor" href="#音频通道"><span>音频通道</span></a></h1><ul><li>每个音频缓冲器可以包含不同数量的声道。大多数现代音频设备使用基本的单声道（只有一个声道）和立体声（左声道和右声道）设置。一些更复杂的设置支持环绕声设置（如四声道和5.1声道），这可以带来更丰富的声音体验，这要归功于它们的高声道数。我们通常用下表中详细列出的标准缩写来表示通道：</li></ul><h1 id="上混频和下混频audionode-channelinterpretation" tabindex="-1"><a class="header-anchor" href="#上混频和下混频audionode-channelinterpretation"><span>上混频和下混频<code>AudioNode.channelInterpretation</code></span></a></h1><ul><li>当输入和输出的通道数不匹配时，必须进行上混合或下混合。通过将AudioNode.channelInterpretation属性设置为speakers或discrete来控制以下规则</li></ul><h1 id="可视化" tabindex="-1"><a class="header-anchor" href="#可视化"><span>可视化</span></a></h1><ul><li>一般来说，我们获取随时间变化的输出以产生音频可视化，通常是阅读其增益或频率数据。然后，使用图形工具，我们将获得的数据转换为可视化表示，例如图形。Web Audio API有一个AnalyserNode可用，它不会改变通过它的音频信号。此外，它输出音频数据，允许我们通过canvas&gt;等技术处理它。</li><li>您可以使用以下方法获取数据 <ul><li>AnalyserNode.getFloatFrequencyData()将当前频率数据复制到传入的Float32Array数组中</li><li>AnalyserNode.getByteFrequencyData()将当前频率数据复制到传入的Uint8Array（无符号字节数组）中</li><li>AnalyserNode.getFloatTimeDomainData()将当前波形或时域数据复制到传递给它的Float32Array数组中</li><li>AnalyserNode.getByteTimeDomainData()将当前波形或时域数据复制到传递给它的Uint8Array（无符号字节数组）中</li></ul></li></ul><h1 id="空间化" tabindex="-1"><a class="header-anchor" href="#空间化"><span>空间化</span></a></h1><ul><li>音频空间化允许我们在物理空间中的某个点对音频信号的位置和行为进行建模，模拟收听者听到该音频。在Web Audio API中，空间化由PannerNode和AudioListener处理</li><li>平移器使用右手笛卡尔坐标来将音频源的位置描述为向量，并将其定向描述为3D方向锥。例如，对于全向源，圆锥可以相当大</li><li>类似地，Web Audio API使用右手笛卡尔坐标描述监听器：它们的位置作为一个向量，它们的方向作为两个方向向量，上和前。这些向量定义了听者头顶的方向和听者鼻子指向的方向。这些矢量相互垂直。</li></ul><h1 id="扇入和扇出" tabindex="-1"><a class="header-anchor" href="#扇入和扇出"><span>扇入和扇出</span></a></h1><ul><li>在音频术语中，扇入描述了ChannelMergerNode接收一系列单声道输入源并输出单个多声道信号的过程</li><li>扇出描述了相反的过程，其中ChannelSplitterNode采用多声道输入源并输出多个单声道输出信号</li><li></li></ul></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-68f87f49 data-v-f7268517><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-f7268517><span class="contributors-label" data-v-f7268517>贡献者: </span><span class="contributors-info" data-v-f7268517><!--[--><!--[--><span class="contributor" data-v-f7268517>jqh</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-f7268517><div class="pager" data-v-f7268517><a class="vp-link no-icon link pager-link prev" href="/article/zindx40b/" data-v-f7268517 data-v-442a52aa><!--[--><span class="desc" data-v-f7268517>上一页</span><span class="title" data-v-f7268517>004实践</span><!--]--><!----></a></div><div class="pager" data-v-f7268517><a class="vp-link no-icon link pager-link next" href="/article/n36eqcby/" data-v-f7268517 data-v-442a52aa><!--[--><span class="desc" data-v-f7268517>下一页</span><span class="title" data-v-f7268517>001介绍</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-68cd6b44 data-v-c122fdb6><span class="percent" data-allow-mismatch data-v-c122fdb6>0%</span><span class="show icon vpi-back-to-top" data-v-c122fdb6></span><svg aria-hidden="true" data-v-c122fdb6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-c122fdb6></circle></svg></button><footer class="vp-footer" vp-footer data-v-68cd6b44 data-v-7631db44><!--[--><div class="container" data-v-7631db44><p class="message" data-v-7631db44>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-CiQOVv9k.js" defer></script></body></html>