import{_ as a,c as d,a as c,o as i}from"./app-CiQOVv9k.js";const o={};function l(s,e){return i(),d("div",null,e[0]||(e[0]=[c('<h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h2><ul><li>ffmpeg推流命令：<code>ffmpeg -i ~/xxx/xxx.mp4 -f flv rtmp://localhost/live/test</code></li><li>ffplay拉流命令：<code>ffplay rtmp://localhost/live/test</code></li><li>卡顿：音频和视频不同步（加参数-re音视频同步播放）</li><li>不清晰问题：视频质量重编码码（加参数-c:v copy视频采用原来的编码）</li></ul><h2 id="基础知识" tabindex="-1"><a class="header-anchor" href="#基础知识"><span>基础知识</span></a></h2><h3 id="linux基础知识" tabindex="-1"><a class="header-anchor" href="#linux基础知识"><span>linux基础知识</span></a></h3><ul><li>基础命令：<code>ls</code>、<code>cd</code>、<code>pwd</code>、<code>mkdir</code>、<code>cp</code>、<code>rm</code>、<code>mv</code>、<code>sudo</code>、<code>pkg-config</code></li><li>安装工具：<code>apt</code>、<code>brew</code>、<code>yum</code></li><li>vim基础操作：<code>:w</code>、<code>:q</code>、<code>:wq</code>、<code>i</code>、<code>esc</code>、<code>h</code>、<code>j</code>、<code>k</code>、<code>l</code></li><li>linux中的环境变量中的：<code>PATH</code>、<code>PKG_CONFIG_PATH</code><ul><li>修改设置环境变量：<code>～/.bashrc</code>、<code>～/bash_profile</code></li><li>生效环境变量：<code>source</code></li><li>路径分隔符：<code>;</code>、<code>:</code></li><li><code>env</code>命令查看所有环境变量</li></ul></li><li><code>pkg-config --libs --cflags libavutil</code>查看<code>libavutil</code>的头文件和库文件地址 <ul><li>引入ffmpeg头文件和库文件的需要知道位置</li><li><code>PKG_CONFIG_PATH</code>中需配置ffmpeg的<code>/usr/local/ffmpeg/lib/pkgconfig</code>的路径</li><li><code>pkg-config</code>会在<code>PKG_CONFIG_PATH</code>路径下找<code>libavutil</code></li></ul></li><li>问题PKG_CONFIG_PATH与LD_LIBRARY_PATH区别</li></ul><h3 id="c基础回顾" tabindex="-1"><a class="header-anchor" href="#c基础回顾"><span>C基础回顾</span></a></h3><h3 id="swift语言" tabindex="-1"><a class="header-anchor" href="#swift语言"><span>Swift语言</span></a></h3><h3 id="各平台ffmpeg编译安装" tabindex="-1"><a class="header-anchor" href="#各平台ffmpeg编译安装"><span>各平台ffmpeg编译安装</span></a></h3><ul><li>mac上brew方式安装，不能改变功能 <ul><li>brew search ffmpeg</li><li>brew install ffmpeg</li></ul></li><li>使用源码编译安装，可以更新功能 <ul><li>下载源码：<code>https://ffmpeg.org/download.html</code></li><li>编译：<code>./configure --prefix=/usr/local/ffmpeg --enable-debug=3</code><ul><li><code>make -j 4</code></li><li><code>make install</code></li></ul></li></ul></li></ul><h2 id="音频" tabindex="-1"><a class="header-anchor" href="#音频"><span>音频</span></a></h2><h3 id="音频基础知识" tabindex="-1"><a class="header-anchor" href="#音频基础知识"><span>音频基础知识</span></a></h3><h3 id="音频编码原理" tabindex="-1"><a class="header-anchor" href="#音频编码原理"><span>音频编码原理</span></a></h3><h3 id="音频数据的采集" tabindex="-1"><a class="header-anchor" href="#音频数据的采集"><span>音频数据的采集</span></a></h3><h3 id="aac-opus编码" tabindex="-1"><a class="header-anchor" href="#aac-opus编码"><span>AAC/OPUS编码</span></a></h3><h2 id="视频" tabindex="-1"><a class="header-anchor" href="#视频"><span>视频</span></a></h2><h3 id="rgb-yuv" tabindex="-1"><a class="header-anchor" href="#rgb-yuv"><span>RGB/YUV</span></a></h3><h3 id="h264编码原理" tabindex="-1"><a class="header-anchor" href="#h264编码原理"><span>H264编码原理</span></a></h3><h3 id="视频数据采集" tabindex="-1"><a class="header-anchor" href="#视频数据采集"><span>视频数据采集</span></a></h3><h3 id="h264-h265编码" tabindex="-1"><a class="header-anchor" href="#h264-h265编码"><span>H264/H265编码</span></a></h3><h3 id="h264参数调优" tabindex="-1"><a class="header-anchor" href="#h264参数调优"><span>H264参数调优</span></a></h3><h2 id="流媒体服务器" tabindex="-1"><a class="header-anchor" href="#流媒体服务器"><span>流媒体服务器</span></a></h2><h3 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx"><span>nginx</span></a></h3><h3 id="srs" tabindex="-1"><a class="header-anchor" href="#srs"><span>SRS</span></a></h3><h3 id="cdn网络" tabindex="-1"><a class="header-anchor" href="#cdn网络"><span>CDN网络</span></a></h3><h3 id="rtmp传输" tabindex="-1"><a class="header-anchor" href="#rtmp传输"><span>RTMP传输</span></a></h3>',25)]))}const h=a(o,[["render",l],["__file","index.html.vue"]]),r=JSON.parse('{"path":"/article/a83o9gso/","title":"003ffmpeg","lang":"zh-CN","frontmatter":{"title":"003ffmpeg","createTime":"2024/03/25 21:04:46","permalink":"/article/a83o9gso/"},"headers":[],"readingTime":{"minutes":1.22,"words":366},"git":{"updatedTime":1737255104000,"contributors":[{"name":"jqh","username":"jqh","email":"1789622669@qq.com","commits":2,"avatar":"https://gravatar.com/avatar/e51d6bd9179d8251507631920dbee86805db2675024268e3d9894ba170e9c314?d=retro"}]},"filePathRelative":"2024/其他/ffmpeg/003ffmpeg.md","categoryList":[{"id":"07811d","sort":10001,"name":"2024"},{"id":"7587db","sort":10002,"name":"其他"},{"id":"a797cd","sort":10016,"name":"ffmpeg"}],"bulletin":false}');export{h as comp,r as data};
