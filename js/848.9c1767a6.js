"use strict";(self["webpackChunkjqh_code"]=self["webpackChunkjqh_code"]||[]).push([[848],{5086:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});i(4114);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("canvas"),e("div",{staticClass:"card"},[e("el-card",{staticClass:"card-item",attrs:{shadow:"hover"},nativeOn:{click:function(e){return t.openBk()}}},[t._v(" 博客 ")]),e("el-card",{staticClass:"card-item",attrs:{shadow:"hover"},nativeOn:{click:function(e){return t.$router.push("/exampleHome")}}},[t._v(" canvas示例 ")]),e("el-card",{staticClass:"card-item",attrs:{shadow:"hover"},nativeOn:{click:function(e){return t.$router.push("/pannellum")}}},[t._v(" 全景图编辑器 ")])],1)])},a=[];class h{constructor(t,e,i,s){this.startX=t,this.startY=e,this.x=this.startX,this.y=this.startY,this.endX=i,this.endY=s,this.targetDistance=this._getPointsDistance(this.startX,this.startY,this.endX,this.endY),this.currentDistance=0,this.hue=this._getRandomRange(0,360),this.lightness=this._getRandomRange(50,70),this.angle=Math.atan2(this.endY-this.startY,this.endX-this.startX),this.speed=2,this.acceleration=1.05}draw(t){t.save(),this.speed*=this.acceleration;const e=this.x+Math.cos(this.angle)*this.speed,i=this.y+Math.sin(this.angle)*this.speed;t.strokeStyle=`hsla(${this.hue}, 100%, ${this.lightness}%, 60%)`,t.lineCap="round",t.lineWidth=10,t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(e,i),t.stroke(),t.restore(),this.currentDistance=this._getPointsDistance(this.startX,this.startY,e,i),this.x=e,this.y=i}isArrived(){return this.currentDistance>=this.targetDistance}getHue(){return this.hue}getTargetCoordinate(){return[this.endX,this.endY]}_getRandomRange(t,e){return Math.random()*(e-t)+t}_getPointsDistance(t,e,i,s){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-s,2))}}class r{constructor(t,e,i){this.x=t,this.y=e,this.hue=this._getRandomRange(i-20,i+20),this.lightness=this._getRandomRange(50,80),this.alpha=1,this.alphaDecay=this._getRandomRange(.015,.03),this.friction=.95,this.gravity=1,this.angle=this._getRandomRange(0,2*Math.PI),this.speed=this._getRandomRange(1,10)}draw(t){t.save(),this.speed*=this.friction;const e=this.x+Math.cos(this.angle)*this.speed,i=this.y+Math.sin(this.angle)*this.speed+this.gravity;t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(e,i),t.strokeStyle=`hsla(${this.hue}, 100%, ${this.lightness}%, ${this.alpha})`,t.lineWidth=5,t.lineCap="round",t.stroke(),t.restore(),this.x=e,this.y=i,this.alpha-=this.alphaDecay}_getRandomRange(t,e){return Math.random()*(e-t)+t}isVanished(){return this.alpha<this.alphaDecay}}var n={name:"home",data(){return{timeTicker:0,timeTotal:80,fireworks:[],particlesCount:50,particles:[],ball:{x:100,y:100,vx:5,vy:10,radius:25,color:"white"}}},methods:{draw(){function t(t,e){return Math.random()*(e-t)+t}let e=this;const i=document.querySelector("canvas");if(!i)return;const s=i.getContext("2d");s.fillStyle="rgba(0,0,0,0.03)",s.fillRect(0,0,i.width,i.height);for(let a=0;a<e.fireworks.length;a++){const t=e.fireworks[a];if(t.draw(s),t.isArrived()){e.fireworks.splice(a,1),a--;for(let i=0;i<e.particlesCount;i++)e.particles.push(new r(...t.getTargetCoordinate(),t.getHue()))}}for(let a=0;a<e.particles.length;a++){const t=e.particles[a];t.draw(s),t.isVanished()&&(e.particles.splice(a,1),a--)}if(e.timeTicker>=e.timeTotal){for(let s=0;s<e.timeTotal/10;s++)e.fireworks.push(new h(t(0,i.width),t(0,i.height),t(0,i.width),t(0,i.height)));e.timeTicker=0}else e.timeTicker++;this.clock(),this.drawBall(),requestAnimationFrame(e.draw)},clock(){const t=document.querySelector("canvas");if(!t)return;const e=t.getContext("2d"),i=new Date;e.save(),e.translate(t.width/2,t.height/4-60),e.scale(.8,.8),e.rotate(-Math.PI/2),e.strokeStyle="white",e.fillStyle="white",e.lineWidth=4,e.lineCap="round",e.save();for(let r=0;r<12;r++)e.beginPath(),e.rotate(Math.PI/6),e.moveTo(100,0),e.lineTo(120,0),e.stroke();e.restore(),e.save(),e.font="10px Arial",e.fillStyle="white",e.textAlign="center",e.textBaseline="middle",e.rotate(Math.PI/2);for(let r=1;r<=12;r++){const t=(r-3)*(2*Math.PI)/12,i=85*Math.cos(t),s=85*Math.sin(t);e.fillText(r,i,s)}e.restore(),e.save(),e.lineWidth=3;for(let r=0;r<60;r++)r%5!==0&&(e.beginPath(),e.moveTo(117,0),e.lineTo(120,0),e.stroke()),e.rotate(Math.PI/30);e.restore();const s=i.getSeconds()+i.getMilliseconds()/1e3,a=i.getMinutes(),h=i.getHours()%12;e.fillStyle="black",e.save(),e.rotate(Math.PI/6*h+Math.PI/360*a+Math.PI/21600*s),e.lineWidth=8,e.beginPath(),e.moveTo(-20,0),e.lineTo(80,0),e.stroke(),e.restore(),e.save(),e.rotate(Math.PI/30*a+Math.PI/1800*s),e.lineWidth=6,e.beginPath(),e.moveTo(-28,0),e.lineTo(112,0),e.stroke(),e.restore(),e.save(),e.rotate(s*Math.PI/30),e.strokeStyle="#D40000",e.fillStyle="#D40000",e.lineWidth=4,e.beginPath(),e.moveTo(-30,0),e.lineTo(83,0),e.stroke(),e.moveTo(94,0),e.lineTo(99,0),e.stroke(),e.beginPath(),e.arc(0,0,8,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.arc(90,0,4,0,2*Math.PI,!0),e.stroke(),e.beginPath(),e.fillStyle="rgb(0 0 0)",e.arc(0,0,3,0,2*Math.PI,!0),e.fill(),e.restore(),e.beginPath(),e.lineWidth=14,e.strokeStyle="white",e.arc(0,0,142,0,2*Math.PI,!0),e.stroke(),e.restore()},drawBall(){const t=document.querySelector("canvas");if(!t)return;const e=t.getContext("2d"),i=this.ball;e.beginPath(),e.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),e.closePath(),e.fillStyle=i.color,e.fill(),i.x+=i.vx,i.y+=i.vy,(i.y+i.vy>t.height-i.radius||i.y+i.vy<i.radius)&&(i.vy=-i.vy),(i.x+i.vx>t.width-i.radius||i.x+i.vx<i.radius)&&(i.vx=-i.vx)},openBk(){window.open("/bk.html")}},mounted(){const t=document.querySelector("canvas");t.width=window.innerWidth,t.height=window.innerHeight,this.draw(),window.addEventListener("resize",(()=>{t.width=window.innerWidth,t.height=window.innerHeight}),!1)}},o=n,l=i(1656),c=(0,l.A)(o,s,a,!1,null,"76626bc2",null),d=c.exports}}]);
//# sourceMappingURL=848.9c1767a6.js.map